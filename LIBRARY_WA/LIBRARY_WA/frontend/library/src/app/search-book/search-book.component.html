<p>
  search-book works!
</p>

<h2>Wyszukaj zasób</h2>
<form [formGroup]="searchBookForm">
  <div class="form-group">
    <label for="book_id">Id. książki</label>
    <input type="text" formControlName="book_id" class="form-control" />
  </div>

  <div class="form-group">
    <label for="ISBN">ISBN</label>
    <input type="text" formControlName="ISBN" class="form-control" />
  </div>

  <div class="form-group">
    <label for="title">Tytuł</label>
    <input type="text" formControlName="title" class="form-control" />
  </div>


  <div class="form-group">
    <label for="author_fullname">Imię i nazwisko autora</label>
    <input type="text" list="author" formControlName="author_fullname" class="form-control" [(ngModel)]="book.author" />
    <datalist id="author">
      <option ng-repeat="author in author" value="{{author}}">{{author}}</option>
    </datalist>
  </div>

  <div class="form-group">
    <label for="year">Rok wydania</label>
    <input type="text" formControlName="year" class="form-control" />
  </div>

  <div class="form-group">
    <label for="language">Język</label>
    <input type="text" list="language" formControlName="language" class="form-control" [(ngModel)]="book.language" />
    <datalist id="language">
      <option ng-repeat="language in language" value="{{language}}">{{language}}</option>
    </datalist>
  </div>

  <div class="form-group">
    <label for="type">Typ</label>
    <input type="text" list="type" formControlName="type" class="form-control" [(ngModel)]="book.type" />
    <datalist id="type" ng-repeat="typ in bookType" >

      <option value="{{typ.type}}">{{typ.type}}</option>
    </datalist>
  </div>

  <div class="form-group">
    <button [disabled]="loading " class="btn btn-primary" (ngSubmit)="SearchBook()">Wyszukaj</button>

  </div>
</form>
<button [disabled]="loading " class="btn btn-primary" ng-Click="clearForm()">Wyczyść</button>

<table *ngIf="areBooks()">
  <tr>
    <th *ngFor="let name of column">
      {{name}}
    </th>
  </tr>
  <tbody>
    <tr *ngFor="let bookInfo of bookData">
      <td>{{ bookInfo.bookId  }}</td>
      <td>{{ bookInfo.ISBN  }}</td>
      <td>{{ bookInfo.title  }}</td>
      <td>{{ bookInfo.author_fullname }}</td>
      <td>{{ bookInfo.year }}</td>
      <td>{{ bookInfo.language  }}</td>
      <td>{{ bookInfo.type  }}</td>
    </tr>
  </tbody>
</table>

